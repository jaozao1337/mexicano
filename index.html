<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plano de Jantar Mexicano - 10 Pessoas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Taco (Beige/Amber/Neutral) -->
    <!-- Application Structure Plan: A tabbed SPA structure ('Visão Geral', 'Receitas', 'Lista de Compras', 'Orçamento') was chosen for optimal user flow. This guides the user from planning (recipes) to action (shopping) and review (budget). 'Receitas' uses nested tabs for clarity. The 'Lista' and 'Orçamento' are linked via JS: checking items on the list dynamically updates the budget chart and totals, making the plan interactive and actionable. -->
    <!-- Visualization & Content Choices: Report Info: Recipes -> Goal: Inform -> Viz: Nested HTML tabs -> Interaction: Click tabs to show/hide recipes -> Justification: Prevents info overload. | Report Info: Shopping List -> Goal: Organize/Action -> Viz: Checkbox-enabled HTML lists -> Interaction: Check items -> Justification: User can track purchases. | Report Info: Budget -> Goal: Inform/Analyze -> Viz: Chart.js Donut Chart + HTML Table -> Interaction: Chart updates based on shopping list checks -> Justification: Visually breaks down costs by category and updates dynamically. | CONFIRM: NO SVG/Mermaid. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFFAF0; 
        }
        .tab-button {
            transition: all 0.3s ease;
        }
        .tab-button.active {
            border-bottom-color: #D97706; 
            color: #D97706;
        }
        .recipe-tab-button.active {
            background-color: #D97706;
            color: white;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body class="text-neutral-800">

    <div class="container mx-auto max-w-5xl p-4 sm:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-amber-800 mb-2">Jantar Mexicano</h1>
            <p class="text-xl text-neutral-600">Plano de organização para 10 amigos</p>
        </header>

        <nav class="mb-8">
            <div class="flex justify-center border-b border-neutral-300 space-x-4 sm:space-x-8">
                <button class="tab-button active text-lg font-semibold py-4 px-2 border-b-2 border-transparent" data-target="visao-geral">Visão Geral</button>
                <button class="tab-button text-lg font-semibold py-4 px-2 border-b-2 border-transparent" data-target="receitas">Receitas</button>
                <button class="tab-button text-lg font-semibold py-4 px-2 border-b-2 border-transparent" data-target="lista-compras">Lista de Compras</button>
                <button class="tab-button text-lg font-semibold py-4 px-2 border-b-2 border-transparent" data-target="orcamento">Orçamento</button>
            </div>
        </nav>

        <main>
            <section id="visao-geral" class="tab-content">
                <div class="bg-white p-6 sm:p-8 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold text-amber-700 mb-4">O Plano</h2>
                    <p class="text-lg mb-4">Este é um plano completo para organizar um jantar mexicano para 10 pessoas. O objetivo é criar uma experiência divertida e deliciosa, no estilo "monte o seu", onde cada um se serve e prepara seus próprios tacos e nachos.</p>
                    <p class="text-lg mb-6">A navegação está dividida em seções para facilitar: as receitas detalhadas, a lista de compras completa e o orçamento estimado com base nos preços de Videira, SC. Os valores na seção de orçamento são interativos: você pode desmarcar itens na lista de compras para ver o total ajustado.</p>
                    
                    <h3 class="text-xl font-semibold text-amber-700 mb-4">Cardápio Principal</h3>
                    <ul class="list-disc list-inside space-y-2 text-lg">
                        <li><strong>Nachos:</strong> Usando Doritos como base.</li>
                        <li><strong>Tacos:</strong> Usando Rap10 como "tortillas" (levemente aquecidas na frigideira).</li>
                        <li><strong>Carne Moída Apimentada:</strong> O recheio principal, bem temperado.</li>
                        <li><strong>Guacamole:</strong> Clássico e essencial.</li>
                        <li><strong>Cheddar Cremoso:</strong> Versão "turbinada" com creme de leite para render.</li>
                        <li><strong>Sour Cream Caseiro:</strong> Um toque de acidez para equilibrar.</li>
                        <li><strong>Acompanhamento:</strong> Alface Americana picada.</li>
                        <li><strong>Sobremesa:</strong> Sorvete.</li>
                    </ul>
                </div>
            </section>

            <section id="receitas" class="tab-content hidden">
                <div class="bg-white p-6 sm:p-8 rounded-lg shadow-md">
                    <div class="flex flex-wrap gap-2 mb-6">
                        <button class="recipe-tab-button active flex-grow sm:flex-grow-0 text-sm sm:text-base font-semibold py-2 px-4 rounded-full bg-neutral-200 text-neutral-700" data-target="recipe-carne">Carne Moída</button>
                        <button class="recipe-tab-button flex-grow sm:flex-grow-0 text-sm sm:text-base font-semibold py-2 px-4 rounded-full bg-neutral-200 text-neutral-700" data-target="recipe-guacamole">Guacamole</button>
                        <button class="recipe-tab-button flex-grow sm:flex-grow-0 text-sm sm:text-base font-semibold py-2 px-4 rounded-full bg-neutral-200 text-neutral-700" data-target="recipe-cheddar">Cheddar Cremoso</button>
                        <button class="recipe-tab-button flex-grow sm:flex-grow-0 text-sm sm:text-base font-semibold py-2 px-4 rounded-full bg-neutral-200 text-neutral-700" data-target="recipe-sour-cream">Sour Cream</button>
                    </div>

                    <div id="recipe-carne" class="recipe-content">
                        <h3 class="text-2xl font-bold text-amber-700 mb-4">Carne Moída Apimentada</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="md:col-span-1">
                                <h4 class="text-lg font-semibold mb-2">Ingredientes:</h4>
                                <ul class="list-disc list-inside space-y-1">
                                    <li>1.5kg de carne moída (patinho ou acém)</li>
                                    <li>2 cebolas grandes picadas</li>
                                    <li>4 dentes de alho picados</li>
                                    <li>1 pimenta dedo-de-moça picada (ou pimenta calabresa a gosto)</li>
                                    <li>2 colheres de sopa de páprica doce ou defumada</li>
                                    <li>1 colher de sopa de cominho em pó</li>
                                    <li>1 lata pequena de molho de tomate (ou 2 tomates picados)</li>
                                    <li>Azeite, sal e pimenta do reino a gosto</li>
                                </ul>
                            </div>
                            <div class="md:col-span-2">
                                <h4 class="text-lg font-semibold mb-2">Modo de Preparo:</h4>
                                <ol class="list-decimal list-inside space-y-2">
                                    <li>Em uma panela grande, aqueça um fio de azeite e refogue a cebola e o alho até dourarem.</li>
                                    <li>Adicione a carne moída e mexa bem para soltá-la. Cozinhe até que toda a carne perca a cor rosada.</li>
                                    <li>Se soltar muita água ou gordura, escorra o excesso.</li>
                                    <li>Adicione a pimenta picada (ou calabresa), a páprica e o cominho. Misture bem e refogue por 1-2 minutos.</li>
                                    <li>Acrescente o molho de tomate (ou os tomates picados), tempere com sal e pimenta do reino.</li>
                                    <li>Baixe o fogo, tampe parcialmente e deixe cozinhar por cerca de 15-20 minutos, mexendo ocasionalmente, até o molho engrossar e os sabores se incorporarem.</li>
                                    <li>Acerte o sal e a pimenta. Sirva quente.</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div id="recipe-guacamole" class="recipe-content hidden">
                        <h3 class="text-2xl font-bold text-amber-700 mb-4">Guacamole</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="md:col-span-1">
                                <h4 class="text-lg font-semibold mb-2">Ingredientes:</h4>
                                <ul class="list-disc list-inside space-y-1">
                                    <li>4 abacates médios (ou 3 grandes), maduros</li>
                                    <li>2 tomates maduros, sem sementes, picados</li>
                                    <li>1 cebola roxa pequena picada</li>
                                    <li>Suco de 2-3 limões</li>
                                    <li>1/2 maço de coentro picado</li>
                                    <li>Azeite extra-virgem a gosto</li>
                                    <li>Sal e pimenta do reino a gosto</li>
                                    <li>(Opcional: pimenta dedo-de-moça picada)</li>
                                </ul>
                            </div>
                            <div class="md:col-span-2">
                                <h4 class="text-lg font-semibold mb-2">Modo de Preparo:</h4>
                                <ol class="list-decimal list-inside space-y-2">
                                    <li>Corte os abacates ao meio, remova o caroço e tire a polpa com uma colher.</li>
                                    <li>Em uma tigela, amasse a polpa com um garfo, deixando alguns pedaços (não precisa virar um purê).</li>
                                    <li>Adicione imediatamente o suco de limão e misture para não oxidar (escurecer).</li>
                                    <li>Acrescente a cebola roxa, o tomate e o coentro picado.</li>
                                    <li>Tempere com sal, pimenta do reino e um fio de azeite.</li>
                                    <li>Misture delicadamente. Prove e acerte o limão e o sal.</li>
                                    <li>Cubra com plástico filme (encostando no guacamole) e leve à geladeira por 15 minutos antes de servir.</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div id="recipe-cheddar" class="recipe-content hidden">
                        <h3 class="text-2xl font-bold text-amber-700 mb-4">Cheddar Cremoso (para Render)</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="md:col-span-1">
                                <h4 class="text-lg font-semibold mb-2">Ingredientes:</h4>
                                <ul class="list-disc list-inside space-y-1">
                                    <li>400g de queijo cheddar processado (tipo bisnaga ou pote)</li>
                                    <li>2 caixas de creme de leite (400g total)</li>
                                </ul>
                            </div>
                            <div class="md:col-span-2">
                                <h4 class="text-lg font-semibold mb-2">Modo de Preparo:</h4>
                                <ol class="list-decimal list-inside space-y-2">
                                    <li>Em uma panela pequena, coloque o creme de leite e leve ao fogo baixo.</li>
                                    <li>Quando o creme de leite estiver quente (sem ferver), adicione o cheddar.</li>
                                    <li>Mexa continuamente em fogo baixo, até que o queijo derreta completamente e se incorpore ao creme de leite, formando um molho homogêneo.</li>
                                    <li>Não deixe ferver para não talhar.</li>
                                    <li>Sirva quente. Se esfriar e endurecer, basta reaquecer em fogo baixo, mexendo sempre.</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div id="recipe-sour-cream" class="recipe-content hidden">
                        <h3 class="text-2xl font-bold text-amber-700 mb-4">Sour Cream Caseiro</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="md:col-span-1">
                                <h4 class="text-lg font-semibold mb-2">Ingredientes:</h4>
                                <ul class="list-disc list-inside space-y-1">
                                    <li>1 pote de creme de leite fresco ou nata (aprox. 300g)</li>
                                    <li>Suco de 1 limão</li>
                                    <li>1 pitada de sal</li>
                                </ul>
                            </div>
                            <div class="md:col-span-2">
                                <h4 class="text-lg font-semibold mb-2">Modo de Preparo:</h4>
                                <ol class="list-decimal list-inside space-y-2">
                                    <li>Em uma tigela, misture o creme de leite fresco (ou nata) com o suco de limão e a pitada de sal.</li>
                                    <li>Mexa bem com um fouet (batedor de arame) ou garfo.</li>
                                    <li>Cubra a tigela e deixe em temperatura ambiente por cerca de 30 minutos (ou na geladeira por 1 hora) para talhar levemente e engrossar.</li>
                                    <li>O resultado é um creme espesso e azedinho. Mantenha refrigerado até a hora de servir.</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="lista-compras" class="tab-content hidden">
                <div class="bg-white p-6 sm:p-8 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold text-amber-700 mb-6">Lista de Compras Interativa</h2>
                    <p class="mb-6 text-neutral-600">Marque os itens que já possui. O orçamento será recalculado automaticamente na aba "Orçamento".</p>
                    <div id="shopping-list-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    </div>
                </div>
            </section>

            <section id="orcamento" class="tab-content hidden">
                <div class="bg-white p-6 sm:p-8 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold text-amber-700 mb-6">Orçamento Estimado (Videira, SC)</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                        <div class="chart-container">
                            <canvas id="budgetChart"></canvas>
                        </div>
                        <div>
                            <p class="text-neutral-600 mb-6">Estimativa de gastos com base nos itens selecionados na lista de compras. Os valores são aproximados e podem variar.</p>
                            <div class="space-y-4 text-lg">
                                <div class="flex justify-between p-4 bg-amber-50 rounded-lg">
                                    <span class="font-semibold">Subtotal Itens:</span>
                                    <span id="subtotal-value" class="font-bold">R$ 0,00</span>
                                </div>
                                <div class="flex justify-between p-4 bg-amber-50 rounded-lg">
                                    <span class="font-semibold">Correção (+10%):</span>
                                    <span id="adjustment-value" class="font-bold">R$ 0,00</span>
                                </div>
                                <div class="flex justify-between p-6 bg-amber-700 text-white rounded-lg text-xl">
                                    <span class="font-bold">TOTAL ESTIMADO:</span>
                                    <span id="total-value" class="font-bold">R$ 0,00</span>
                                </div>
                                <p class="text-center text-neutral-500 text-sm mt-4">Valor por pessoa: <span id="per-person-value" class="font-bold">R$ 0,00</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        const shoppingListData = [
            { category: 'Açougue', index: 0, items: [
                { name: 'Carne Moída (Patinho/Acém)', qty: '1.5 kg', price: 45.00, checked: true }
            ]},
            { category: 'Hortifruti', index: 1, items: [
                { name: 'Abacate Médio (ou Avocado)', qty: '4 unidades', price: 20.00, checked: true },
                { name: 'Tomate', qty: 'aprox. 4 unidades', price: 5.00, checked: true },
                { name: 'Cebola Roxa', qty: '1 unidade', price: 2.00, checked: true },
                { name: 'Cebola Branca', qty: '2 unidades', price: 2.00, checked: true },
                { name: 'Coentro', qty: '1 maço', price: 3.00, checked: true },
                { name: 'Limão Tahiti', qty: 'aprox. 4 unidades', price: 3.00, checked: true },
                { name: 'Alho', qty: '1 cabeça', price: 3.00, checked: true },
                { name: 'Alface Americana', qty: '2 pés', price: 8.00, checked: true },
                { name: 'Pimenta Dedo-de-Moça', qty: '2 unidades', price: 3.00, checked: true }
            ]},
            { category: 'Laticínios', index: 2, items: [
                { name: 'Cheddar Processado (Bisnaga/Pote)', qty: '400g', price: 25.00, checked: true },
                { name: 'Creme de Leite (Caixa)', qty: '2 caixas', price: 6.00, checked: true },
                { name: 'Creme de Leite Fresco (ou Nata)', qty: '300g', price: 15.00, checked: true }
            ]},
            { category: 'Mercearia', index: 3, items: [
                { name: 'Doritos (Pacote Grande)', qty: '3 pacotes', price: 60.00, checked: true },
                { name: 'Rap10 (Pacote c/ 10)', qty: '3 pacotes', price: 30.00, checked: true },
                { name: 'Pimenta Calabresa (seco)', qty: '1 pct', price: 4.00, checked: true },
                { name: 'Cominho em Pó', qty: '1 pct', price: 4.00, checked: true },
                { name: 'Páprica Doce/Defumada', qty: '1 pct', price: 5.00, checked: true },
                { name: 'Molho de Tomate (Lata/Sachê)', qty: '1 unidade', price: 3.00, checked: true }
            ]},
            { category: 'Sobremesa', index: 4, items: [
                { name: 'Sorvete (Pote 1.5L)', qty: '1 pote', price: 30.00, checked: true }
            ]}
        ];

        let myBudgetChart;
        const categoryTotals = [0, 0, 0, 0, 0];
        const categoryLabels = ['Açougue', 'Hortifruti', 'Laticínios', 'Mercearia', 'Sobremesa'];
        const categoryColors = ['#DC2626', '#16A34A', '#2563EB', '#D97706', '#9333EA'];

        function toBRL(value) {
            return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        }

        function updateBudget() {
            let subtotal = 0;
            categoryTotals.fill(0);

            shoppingListData.forEach(category => {
                category.items.forEach(item => {
                    if (item.checked) {
                        subtotal += item.price;
                        categoryTotals[category.index] += item.price;
                    }
                });
            });

            const adjustment = subtotal * 0.10;
            const total = subtotal + adjustment;
            const perPerson = total / 10;

            document.getElementById('subtotal-value').textContent = toBRL(subtotal);
            document.getElementById('adjustment-value').textContent = toBRL(adjustment);
            document.getElementById('total-value').textContent = toBRL(total);
            document.getElementById('per-person-value').textContent = toBRL(perPerson);

            if (myBudgetChart) {
                myBudgetChart.data.datasets[0].data = categoryTotals;
                myBudgetChart.update();
            }
        }

        function populateShoppingList() {
            const container = document.getElementById('shopping-list-container');
            container.innerHTML = '';
            
            shoppingListData.forEach((category, catIndex) => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'mb-6';
                
                const categoryTitle = document.createElement('h3');
                categoryTitle.className = 'text-xl font-semibold text-amber-700 mb-3 border-b border-amber-200 pb-2';
                categoryTitle.textContent = category.category;
                categoryDiv.appendChild(categoryTitle);

                const itemList = document.createElement('ul');
                itemList.className = 'space-y-3';

                category.items.forEach((item, itemIndex) => {
                    const li = document.createElement('li');
                    li.className = 'flex items-center';

                    const label = document.createElement('label');
                    label.className = 'flex items-center w-full cursor-pointer';

                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.checked = item.checked;
                    checkbox.className = 'h-5 w-5 rounded border-neutral-300 text-amber-600 focus:ring-amber-500';
                    checkbox.dataset.catIndex = catIndex;
                    checkbox.dataset.itemIndex = itemIndex;

                    checkbox.addEventListener('change', (e) => {
                        const cIdx = parseInt(e.target.dataset.catIndex);
                        const iIdx = parseInt(e.target.dataset.itemIndex);
                        shoppingListData[cIdx].items[iIdx].checked = e.target.checked;
                        updateBudget();
                    });

                    const textSpan = document.createElement('span');
                    textSpan.className = 'ml-3 flex-1';
                    textSpan.textContent = `${item.name} (${item.qty})`;

                    const priceSpan = document.createElement('span');
                    priceSpan.className = 'font-medium text-neutral-600';
                    priceSpan.textContent = toBRL(item.price);

                    label.appendChild(checkbox);
                    label.appendChild(textSpan);
                    label.appendChild(priceSpan);
                    li.appendChild(label);
                    itemList.appendChild(li);
                });

                categoryDiv.appendChild(itemList);
                container.appendChild(categoryDiv);
            });
        }

        function setupBudgetChart() {
            const ctx = document.getElementById('budgetChart').getContext('2d');
            myBudgetChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: categoryLabels,
                    datasets: [{
                        label: 'Custo por Categoria',
                        data: categoryTotals,
                        backgroundColor: categoryColors,
                        borderColor: '#FFFAF0',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: {
                                    family: 'Inter',
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed) {
                                        label += toBRL(context.parsed);
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }

        function setupTabs() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    const target = button.getAttribute('data-target');
                    tabContents.forEach(content => {
                        content.classList.add('hidden');
                        if (content.id === target) {
                            content.classList.remove('hidden');
                        }
                    });

                    if (target === 'orcamento' && !myBudgetChart) {
                        setupBudgetChart();
                        updateBudget();
                    }
                });
            });
        }

        function setupRecipeTabs() {
            const recipeTabButtons = document.querySelectorAll('.recipe-tab-button');
            const recipeContents = document.querySelectorAll('.recipe-content');

            recipeTabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    recipeTabButtons.forEach(btn => btn.classList.remove('active', 'bg-amber-600', 'text-white'));
                    button.classList.add('active', 'bg-amber-600', 'text-white');

                    const target = button.getAttribute('data-target');
                    recipeContents.forEach(content => {
                        content.classList.add('hidden');
                        if (content.id === target) {
                            content.classList.remove('hidden');
                        }
                    });
                });
            });
        }

        window.addEventListener('DOMContentLoaded', () => {
            setupTabs();
            setupRecipeTabs();
            populateShoppingList();
            updateBudget(); 
        });
    </script>
</body>
</html>
